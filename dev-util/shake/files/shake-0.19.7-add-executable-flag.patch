diff -urN shake-0.19.7/shake.cabal shake-0.19.7-r1/shake.cabal
--- shake-0.19.7/shake.cabal	2022-10-07 01:52:19.010724676 -0600
+++ shake-0.19.7-r1/shake.cabal	2022-10-07 01:53:08.600725313 -0600
@@ -81,6 +81,11 @@
     manual: True
     description: Embed data files into the shake library
 
+flag executable
+    default: False
+    manual: True
+    description: Build the shake executable
+
 library
     default-language: Haskell2010
     hs-source-dirs:   src
@@ -203,6 +208,8 @@
 
 
 executable shake
+    if !flag(executable)
+        buildable: False
     default-language: Haskell2010
     hs-source-dirs:   src
     ghc-options: -main-is Run.main -rtsopts -threaded "-with-rtsopts=-I0 -qg"
